manifest {
  description = 'Proof of concept of a RNA-seq pipeline implemented with Nextflow' 
}

/* 
 * defines execution profiles for different environments  
 */ 
profiles {
  /* 
   * local execution with Docker 
   */
  docker {
    process {
      $index.container = 'quay.io/biocontainers/salmon:0.8.2--1'
      $quant.container = 'quay.io/biocontainers/salmon:0.8.2--1'
      $multiqc.container = 'quay.io/biocontainers/multiqc:1.1--py27_0'
      $fastqc.container = "genomicpariscentre/fastqc"
    }

    docker.enabled = true
  }

  /* 
   * CRG cluster config using Singularity + Univa Grid Engine 
   */
  crg { 
    process {
      executor = 'uge' 
      $index.container = 'salmon-0.8.2--1.img'
      $quant.container = 'salmon-0.8.2--1.img'
      $multiqc.container = 'multiqc-1.1--py27_0.img'
      $fastqc.container = "fastqc.img"
    }

    singularity.enabled = true
    singularity.autoMounts = true
  }
}